(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{19:function(t,e,n){t.exports={contactsTitle:"App_contactsTitle__22st7"}},20:function(t,e,n){t.exports={button:"Form_button__2ZPiU"}},22:function(t,e,n){t.exports={item:"Contact_item__1f9Cq"}},23:function(t,e,n){t.exports={container:"Container_container___gcpE"}},34:function(t,e,n){},55:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(12),o=n.n(r),i=n(5),s=n(11),u=n(17),d=n(6),b=n(1),j=Object(s.a)([{id:"id-1",name:"Rosie Simpson",number:"459-12-56"},{id:"id-2",name:"Hermione Kline",number:"443-89-12"},{id:"id-3",name:"Eden Clements",number:"645-17-79"},{id:"id-4",name:"Annie Copeland",number:"227-91-26"}]),l=Object(b.d)(j,{addContact:function(t,e){var n=e.payload;return[].concat(Object(s.a)(t),[n])},removeContact:function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))}}),m=Object(b.d)("",{handleInputChange:function(t,e){return e.payload}}),h=n(18),O=n(7),p=Object(h.a)({reducerPath:"contactsApi",tagTypes:["Contacts"],baseQuery:Object(O.d)({baseUrl:"https://619826b0164fa60017c22f8a.mockapi.io/"}),endpoints:function(t){return{fetchContacts:t.query({query:function(){return"contacts"},providesTags:["Contacts"]}),deleteContact:t.mutation({query:function(t){return{url:"contacts/".concat(t),method:"DELETE"}},invalidatesTags:["Contacts"]}),addContact:t.mutation({query:function(t){return{url:"contacts",method:"POST",body:{name:t.name,phone:t.phone}}},invalidatesTags:["Contacts"]})}}}),f=p.useFetchContactsQuery,x=p.useDeleteContactMutation,C=p.useAddContactMutation,v=Object(d.b)({items:l,filter:m}),g=Object(b.a)({reducer:Object(u.a)({contacts:v},p.reducerPath,p.reducer),middleware:function(t){return[].concat(Object(s.a)(t()),[p.middleware])}}),y=(n(34),n(19)),_=n.n(y),w=n(9),T=n(20),A=n.n(T),k=(n(21),n(2));function q(){var t=C(),e=Object(w.a)(t,2),n=e[0],c=e[1].isLoading,r=Object(a.useState)(""),o=Object(w.a)(r,2),i=o[0],s=o[1],u=Object(a.useState)(""),d=Object(w.a)(u,2),b=d[0],j=d[1],l=f().data,m=function(t){var e=t.currentTarget,n=e.name,a=e.value;switch(n){case"name":s(a);break;case"number":j(a)}};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("form",{onSubmit:function(t){var e;t.preventDefault(),e={name:i,phone:b},l.some((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))?alert("You have already had ".concat(e.name," in your contacts")):n(e)},children:[Object(k.jsxs)("label",{children:[Object(k.jsx)("p",{children:"Name"}),Object(k.jsx)("input",{type:"text",value:i,name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",required:!0,onChange:m})]}),Object(k.jsxs)("label",{children:[Object(k.jsx)("p",{children:"Number"}),Object(k.jsx)("input",{type:"tel",value:b,name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",onChange:m,required:!0})]}),Object(k.jsx)("button",{type:"submit",className:A.a.button,disabled:c,children:"Add contact"})]})})}Object(b.b)("addContact"),Object(b.b)("removeContact");var L=Object(b.b)("handleInputChange");function E(){var t=Object(i.d)();return Object(k.jsxs)("label",{children:[Object(k.jsx)("p",{children:"Find contacts by name:"}),Object(k.jsx)("input",{type:"text",name:"filter",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",onChange:function(e){t(L(e.currentTarget.value))}})]})}var N=n(22),S=n.n(N);function F(t){var e=t.contact,n=x(),a=Object(w.a)(n,2),c=a[0],r=a[1].isLoading;return Object(k.jsxs)("li",{className:S.a.item,children:[e.name,": ",Object(k.jsx)("span",{style:{textAlign:"right"},children:e.phone})," ",Object(k.jsx)("button",{onClick:function(){return c(e.id)},disabled:r,children:"Delete"})]})}function P(){var t=Object(i.e)((function(t){return t.contacts})).filter,e=f(),n=e.data;e.isFetching;return Object(k.jsx)("ul",{children:function(t,e){var n=e.toLowerCase();return t?t.filter((function(t){return t.name.toLowerCase().includes(n)})):[]}(n,t).map((function(t){return Object(k.jsx)(F,{contact:t},t.id)}))})}var D=n(23),Z=n.n(D);function z(t){var e=t.children;return Object(k.jsxs)("div",{className:Z.a.container,children:[e," "]})}var I=function(){return Object(k.jsxs)(z,{children:[Object(k.jsx)("h1",{children:"Phonebook"}),Object(k.jsx)(q,{}),Object(k.jsx)("h2",{className:_.a.contactsTitle,children:"Contacts"}),Object(k.jsx)(E,{}),Object(k.jsx)(P,{})]})};n(54);o.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(i.a,{store:g,children:Object(k.jsx)(I,{})})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.395d34ce.chunk.js.map